# MTProto Manager v4.0 ‚Äî Upgrade —Å SOCKS5

## üéØ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å?

### ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:

1. **üîê –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω SOCKS5 –ø—Ä–æ–∫—Å–∏ (3proxy)**
   - –ü–µ—Ä–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ ‚Äî –≤—ã–±–æ—Ä SOCKS5 –ø—Ä–æ–∫—Å–∏
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å)
   - –û—Ç–∫—Ä—ã—Ç—ã–π –¥–æ—Å—Ç—É–ø –±–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
   - –í—ã–±–æ—Ä –ø–æ—Ä—Ç–æ–≤: 1080, 1085, 9050 –∏–ª–∏ —Å–≤–æ–π

2. **üìä –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä**
   - –û—Ç–¥–µ–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ SOCKS5 –∏ MTProto
   - –°—Ç–∞—Ç—É—Å –æ–±–æ–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ –æ–¥–Ω–æ–º –æ–∫–Ω–µ
   - –ù–µ–∑–∞–≤–∏—Å–∏–º–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∏ —É–¥–∞–ª–µ–Ω–∏–µ

3. **üîß –ù–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –≤ –º–µ–Ω–µ–¥–∂–µ—Ä–µ:**
   - **S1-S5** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ SOCKS5
   - **M1-M8** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ MTProto (–∫–∞–∫ –±—ã–ª–æ)

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ curl
```bash
curl -fsSL https://raw.githubusercontent.com/tarpy-socdev/MTP-manager/main/mtproto-universal-v4.sh -o mtproto-universal-v4.sh
chmod +x mtproto-universal-v4.sh
sudo ./mtproto-universal-v4.sh
```

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ wget
```bash
wget -O mtproto-universal-v4.sh https://raw.githubusercontent.com/tarpy-socdev/MTP-manager/main/mtproto-universal-v4.sh
chmod +x mtproto-universal-v4.sh
sudo ./mtproto-universal-v4.sh
```

---

## üöÄ –ü—Ä–æ—Ü–µ—Å—Å —É—Å—Ç–∞–Ω–æ–≤–∫–∏

### –®–∞–≥ 1: SOCKS5 –ø—Ä–æ–∫—Å–∏ (–ù–û–í–û–ï!)
–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–∫—Ä–∏–ø—Ç–∞ **–ø–µ—Ä–≤—ã–º –¥–µ–ª–æ–º** –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å SOCKS5:

```
üîê –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å SOCKS5 –ø—Ä–æ–∫—Å–∏?

1) –î–∞, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å SOCKS5 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
2) –ù–µ—Ç, —Ç–æ–ª—å–∫–æ MTProto
```

–ï—Å–ª–∏ –≤—ã–±–∏—Ä–∞–µ—à—å **"–î–∞"**, –¥–∞–ª—å—à–µ:
- –í—ã–±–æ—Ä –ø–æ—Ä—Ç–∞ (1080, 1085, 9050 –∏–ª–∏ —Å–≤–æ–π)
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (–ª–æ–≥–∏–Ω+–ø–∞—Ä–æ–ª—å –∏–ª–∏ –±–µ–∑)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ 3proxy

### –®–∞–≥ 2: MTProto –ø—Ä–æ–∫—Å–∏
–ü–æ—Å–ª–µ SOCKS5 (–∏–ª–∏ –µ—Å–ª–∏ –µ–≥–æ –ø—Ä–æ–ø—É—Å—Ç–∏–ª), –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ MTProto –∫–∞–∫ —Ä–∞–Ω—å—à–µ:
- –í—ã–±–æ—Ä –ø–æ—Ä—Ç–∞ (443, 8080, 8443)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (root/mtproxy)
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
- –°–ø–æ–Ω—Å–æ—Ä—Å–∫–∏–π —Ç–µ–≥

---

## üéÆ –ú–µ–Ω–µ–¥–∂–µ—Ä

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–æ—Å—Ç—É–ø–µ–Ω –º–µ–Ω–µ–¥–∂–µ—Ä —Å –∫–æ–º–∞–Ω–¥–∞–º–∏:

### üîê SOCKS5 —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
- **S1** ‚Äî –°—Ç–∞—Ç—É—Å SOCKS5
- **S2** ‚Äî –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- **S3** ‚Äî –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å SOCKS5
- **S4** ‚Äî –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å SOCKS5 (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
- **S5** ‚Äî –£–¥–∞–ª–∏—Ç—å SOCKS5

### üì± MTProto —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
- **M1** ‚Äî –°—Ç–∞—Ç—É—Å MTProto
- **M2** ‚Äî QR-–∫–æ–¥ –∏ —Å—Å—ã–ª–∫–∞
- **M3** ‚Äî –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Å–ø–æ–Ω—Å–æ—Ä—Å–∫–∏–π —Ç–µ–≥
- **M4** ‚Äî –£–¥–∞–ª–∏—Ç—å —Å–ø–æ–Ω—Å–æ—Ä—Å–∫–∏–π —Ç–µ–≥
- **M5** ‚Äî –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç
- **M6** ‚Äî –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å MTProto
- **M7** ‚Äî –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
- **M8** ‚Äî –£–¥–∞–ª–∏—Ç—å MTProto

---

## üîó –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è SOCKS5

### –° –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π:
```bash
# –°—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
socks5://username:password@IP:1080

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ curl
curl --socks5 username:password@IP:1080 https://ifconfig.me

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
Host: IP
Port: 1080
Username: username
Password: password
```

### –ë–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:
```bash
# –°—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
socks5://IP:1080

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ curl
curl --socks5 IP:1080 https://ifconfig.me
```

---

## üÜö –†–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É SOCKS5 –∏ MTProto

| –ü–∞—Ä–∞–º–µ—Ç—Ä | SOCKS5 | MTProto |
|----------|--------|---------|
| **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ** | –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø—Ä–æ–∫—Å–∏ | –¢–æ–ª—å–∫–æ Telegram |
| **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è** | –ë—Ä–∞—É–∑–µ—Ä—ã, —Ç–æ—Ä—Ä–µ–Ω—Ç—ã, –ª—é–±—ã–µ TCP/UDP | Telegram |
| **–°–∫–æ—Ä–æ—Å—Ç—å** | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–∞—è –¥–ª—è Telegram |
| **–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ** | –õ–µ–≥–∫–æ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è | –¢—Ä—É–¥–Ω–µ–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å |
| **–ù–∞—Å—Ç—Ä–æ–π–∫–∞** | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è | –¢–æ–ª—å–∫–æ –≤ Telegram |

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑—É–π –æ–±–∞! SOCKS5 –¥–ª—è –≤—Å–µ–≥–æ –æ—Å—Ç–∞–ª—å–Ω–æ–≥–æ, MTProto –¥–ª—è Telegram.

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- **3proxy** ‚Äî SOCKS5 —Å–µ—Ä–≤–µ—Ä
- **MTProxy** ‚Äî MTProto –ø—Ä–æ–∫—Å–∏ –¥–ª—è Telegram
- **systemd —Å–µ—Ä–≤–∏—Å—ã** ‚Äî –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫

### –ü—É—Ç–∏ —Ñ–∞–π–ª–æ–≤:
```
/opt/socks5/3proxy.cfg          # –ö–æ–Ω—Ñ–∏–≥ SOCKS5
/opt/MTProxy/                   # MTProxy —Ñ–∞–π–ª—ã
/etc/systemd/system/socks5-proxy.service
/etc/systemd/system/mtproto-proxy.service
```

### –ö–æ–º–∞–Ω–¥—ã systemd:
```bash
# SOCKS5
sudo systemctl status socks5-proxy
sudo systemctl restart socks5-proxy
sudo systemctl stop socks5-proxy

# MTProto
sudo systemctl status mtproto-proxy
sudo systemctl restart mtproto-proxy
sudo systemctl stop mtproto-proxy
```

---

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### SOCKS5:
- ‚úÖ **–° –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π** ‚Äî –∑–∞—â–∏—Ç–∞ –ª–æ–≥–∏–Ω–æ–º/–ø–∞—Ä–æ–ª–µ–º
- ‚ö†Ô∏è **–ë–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏** ‚Äî –æ—Ç–∫—Ä—ã—Ç—ã–π –¥–æ—Å—Ç—É–ø (–∏—Å–ø–æ–ª—å–∑—É–π –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!)

### MTProto:
- ‚úÖ –°–µ–∫—Ä–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è
- ‚úÖ –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä–∞–º Telegram

### Firewall (UFW):
–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –Ω—É–∂–Ω—ã–µ –ø–æ—Ä—Ç—ã:
```bash
sudo ufw status
```

---

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **–û–°:** Debian/Ubuntu/CentOS
- **Root –¥–æ—Å—Ç—É–ø:** –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
- **–ò–Ω—Ç–µ—Ä–Ω–µ—Ç:** –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–æ–≤

---

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### SOCKS5 –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
sudo systemctl status socks5-proxy

# –õ–æ–≥–∏
sudo journalctl -u socks5-proxy -n 50

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
sudo systemctl restart socks5-proxy
```

### MTProto –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
sudo systemctl status mtproto-proxy

# –õ–æ–≥–∏
sudo journalctl -u mtproto-proxy -n 50

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
sudo systemctl restart mtproto-proxy
```

### –ü–æ—Ä—Ç –∑–∞–Ω—è—Ç:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞–∫–∏–µ –ø–æ—Ä—Ç—ã –∑–∞–Ω—è—Ç—ã
sudo netstat -tuln | grep LISTEN
# –∏–ª–∏
sudo ss -tuln
```

---

## üìù Changelog

### v4.0 (CURRENT)
- ‚ú® –î–æ–±–∞–≤–ª–µ–Ω SOCKS5 –ø—Ä–æ–∫—Å–∏ (3proxy)
- ‚ú® –í—ã–±–æ—Ä SOCKS5 –∫–∞–∫ –ø–µ—Ä–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ
- ‚ú® –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è SOCKS5
- ‚ú® –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –æ–±–æ–∏–º–∏ –ø—Ä–æ–∫—Å–∏
- ‚ú® –ù–µ–∑–∞–≤–∏—Å–∏–º–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ SOCKS5 –∏ MTProto

### v3.0
- –ë–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è —Å MTProto
- –°–ø–æ–Ω—Å–æ—Ä—Å–∫–∏–π —Ç–µ–≥
- QR-–∫–æ–¥—ã
- –ú–µ–Ω–µ–¥–∂–µ—Ä

---

## üí° Tips & Tricks

### 1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±–æ–∏—Ö –ø—Ä–æ–∫—Å–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ:
```bash
# SOCKS5 –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞ –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
# MTProto –¥–ª—è Telegram
# –í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ!
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã SOCKS5:
```bash
# –¢–≤–æ–π IP –±–µ–∑ –ø—Ä–æ–∫—Å–∏
curl https://ifconfig.me

# IP —á–µ—Ä–µ–∑ SOCKS5
curl --socks5 IP:1080 https://ifconfig.me
# –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å IP —Å–µ—Ä–≤–µ—Ä–∞
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ MTProto:
–ü—Ä–æ—Å—Ç–æ –ø–æ–¥–∫–ª—é—á–∏—Å—å –≤ Telegram ‚Äî –µ—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç, –≤—Å—ë –æ–∫!

---

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏: `sudo journalctl -u socks5-proxy` –∏–ª–∏ `sudo journalctl -u mtproto-proxy`
2. –ü—Ä–æ–≤–µ—Ä—å –ø–æ—Ä—Ç—ã: `sudo netstat -tuln`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å—ã —á–µ—Ä–µ–∑ –º–µ–Ω–µ–¥–∂–µ—Ä

---

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License ¬© 2026

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å —É —Ç–µ–±—è **–¥–≤–∞ –ø—Ä–æ–∫—Å–∏ –≤ –æ–¥–Ω–æ–º —Å–∫—Ä–∏–ø—Ç–µ**:
- üîê **SOCKS5** –¥–ª—è —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- üì± **MTProto** –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ Telegram

–ó–∞–ø—É—Å–∫–∞–π –º–µ–Ω–µ–¥–∂–µ—Ä: `sudo mtproto-manager`
